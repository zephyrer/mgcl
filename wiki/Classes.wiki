#summary Summary of classes in MGCL
#labels Featured

= MGCL のクラス =
MGCL は完全なオブジェクト指向をサポートしています。すべての機能はクラスとして提供されます。

 *  MGGeometry - 幾何オブジェクトのための抽象クラス。
 *  MGTopology - 位相構造を表現するための抽象クラス。
 *  MGGel - MGCL オブジェクトをグループのメンバーにするための抽象クラス (幾何オブジェクト、位相オブジェクト、グループオブジェクト、アトリビュートの 4 クラスを総称するクラス)。
 *  MGGroup - グループエレメントをグルーピングするクラス。デザインパターンの Composite パターン。
 *  MGObject - 幾何オブジェクトおよび位相オブジェクトを総称するクラス。
 *  基本要素クラス - 幾何オブジェクトの基本要素となるクラス。拡張実数 (MGEReal) やノット (MGKnot) など。
 *  座標変換クラス - 座標変換をあらわすオブジェクト、MGVector, MGMatrix, MGTransform など。
 *  B表現の構成要素となるクラス - MGKnotVector (ノット列), MGBPointSeq (線 B 表現の B 係数) など。
 *  シリアライズ関連クラス - MGCL オブジェクトの永続化を行うためのクラス。

= オブジェクト一覧 =
TODO: 図を貼り付ける。

= グループエレメント MGGel =

MGCL のオブジェクトをグループのメンバーにするための抽象クラス。
派生クラスは以下の 4 種。

 * MGGroup - グループオブジェクト。
 * MGObject - MGCL 図形オブジェクト(幾何オブジェクトおよび位相オブジェクト) 。
 * MGAttrib - アトリビュート(属性)クラス。
 * MGUAttrib - ユーザー定義のアトリビュートクラス。 

== MGObject ==

幾何クラスおよび位相オブジェクトを総称するクラス。
定義されている主な関数：

 * MGOfstream, MGIfstream を介したオブジェクトのシリアライズ。
 * オブジェクトのダンプ文字列の出力。
 * クローンオブジェクト (オブジェクトの deep copy) の作成。
 * 各種座標変換。

== 基本要素クラス ==

MGCL オブジェクトの基本要素となるクラス。
以下のオブジェクトがあります。

 * MGEReal - 拡張実数、 C 言語の double に正負の無限大を追加したもの。
 * MGInterval, MGBox - 範囲を表現するクラス。
  * MGInterval ･･･ 1 次元の範囲 (上限、下限は MGEReal で表現される)。
  * MGBox ･･･ N 次元の範囲 (N は 2 以上の整数) 。
 * MGNDDArray - 非減少数列。単調増加する数列を表現、数列データは double 。
 * MGPosition - n 次元の位置を表現する。
 * MGKnot - ノットをあらわすクラス。ノットの値および多重度を表現する。
 * MGKnotArray - ノット列を表すクラス。ノットベクトルとは異なるので注意。
 * MGVector - ベクタを表すクラス。座標変換クラスでもある。

== 座標変換クラス ==

座標変換オブジェクトには スケーリング (通常の実数 double を使用)、
平行移動 (MGVector 、ベクター)、原点を変更しない変換 (MGMatrix 、マトリクス)、
一般変換 (MGTransf 、トランスフォーム) があります。

MGPPRep (曲線の Piecewise Polynomial 表現) を除くすべての幾何オブジェクトには
この 4 種類の座標変換演算子が用意されています。 

`+`, `-`, `+=`, `-=`, `*`, `/`, `*=`, `/=` などの
演算子のオペレータオーバーロードによります。 

MGCL の幾何オブジェクトはすべて、座標変換によりオブジェクトを変換してもパラメータ値は変わりません。
幾何オブジェクト g と座標変換 T に関して次の式が成立します： 

(`eval()` は位置座標の評価であり、幾何オブジェクト g のあるパラメータ値 ｔ の座標値を求めてから
変換 T を加えた点と、g に座標変換 T を加えた後の幾何オブジェクトのパラメータ値 t の座標値は同じ点です。)

== MGVector ==

クラス MGVector はクラス MGUnit_vector のスーパークラスです。空間次元 n は 0, 1, 2, 3, ...... と、いくつでもかまいません。

MGVectorの機能：

 * 各種コンストラクタ。
 * ベクトルの長さを求める。
 * 内積計算 (演算子 `%` )、スカラー積である。
 * 外積計算 (演算子 `*` )  ベクトル積は一般には 3 次元空間のみに定義されるが、一般の n 次元空間に拡張。
 * 直交または平行かどうかの判定。
 * 二つのベクトルの角度を求める (角度、正弦値、余弦値)。
 * 二つのベクトルの補間 (回転、または直線補間)。
 * ゼロベクトル、単位ベクトルを判定する。
 * ベクトルによるオブジェクトの平行移動。
 * ベクトル三重積を求める。

== MGMatrix, MGTransform ==

MGMatrix は原点を中心とする変換ですが、MGTransf は任意の点を中心として変換する座標変換です。 
MGMatrix に用意されるメンバー関数を任意の点を中心に実行できるよう、変換したメンバー関数が用意されています。

MGMatrix, MGTransform の機能：

 * 各種コンストラクタ。
 * 転置行列を求める。
 * 行列式の値を求める。
 * スケーリング。
 * 回転 (2D の回転または 3D で、あるベクトル回りにある角度回転する)。
 * 座標軸があるベクトルとなるよう回転する。
 * あるベクトルが座標軸のひとつとなるよう回転する。
 * 二つの直交するベクトルを X, Y 座標とするよう変換する。
 * X, Y 軸を空間の二つの直交するベクトルとなるよう回転する。
 * ある平面に関して鏡面変換する。

= B 表現 (曲線/曲面) の構成要素 =

 * MGKnotVector - ノットベクトル。オーダｋ(次数 k-1 ) B 表現次元 n 。
 * MGBPointSeq - 点列 線 B 表現の B 係数(制御点列)などに使用される。
 * MGSPointSeq - 点の 2 次元列表現 面 B 表現の B 係数などに使用される。

= シリアライズ関連クラス =

シリアライズ (永続化) のための補助クラス。
以下の 2 つのクラスが定義されている：

 * MGIfstream - 入力ファイルストリームクラス。
 * MGOfstream - 出力ファイルストリームクラス。

以下の機能が実装されている。

 * Geometry, Topology のすべてのオブジェクトのファイル入出力。
 * Big Endian スタイルのバイナリ入出力 (Unix, Windows 共通でバイナリファイルの利用が可能)。
 * 同一オブジェクトの 2 度書きを防止。